{
    "title": "Aggregator API",
    "baseUri": "ws://localhost",
    "port": 3000,
    "api": {
        "auth": {
            "description": "User password authetification",
            "methods": {
                "login": {
                    "params": {
                        "username": "string",
                        "password": "string"
                    },
                    "response": {
                        "token": "string"
                    }
                },
                "logout": {
                    "params": {
                        "token": "string"
                    }
                }
            }
        },
        "users": {
            "description": "Basic users model",
            "roles": {
                "user": "Пользователь",
                "superadmin": "Администратор",
                "aggregator.user": "Доступ к агрегаторам",
                "aggregator.admin": "Администратор агрегаторов"
            },
            "model": {
                "_id": "string",
                "_date": "date",
                "name": "string",
                "password": "string",
                "state": "boolean",
                "role": "string"
            },
            "defaults": {
                "_date": 0,
                "name": "admin",
                "password": 0,
                "state": true,
                "role": "superadmin"
            },
            "methods": {
                "get": {
                    "response": {
                        "_id": "string",
                        "_date": "date",
                        "name": "string",
                        "state": "boolean",
                        "role": "string"
                    },
                    "access": "superadmin"
                },
                "subscribe": {
                    "access": "superadmin"
                },
                "add": {
                    "params": {
                        "_id": "string",
                        "_date": "date",
                        "name": "string",
                        "password": "string",
                        "state": "boolean",
                        "role": "string"
                    },
                    "access": "superadmin"
                },
                "update": {
                    "params": {
                        "_id": "string",
                        "_date": "date",
                        "name": "string",
                        "password": "string",
                        "state": "boolean",
                        "role": "string"
                    },
                    "access": "superadmin"
                },
                "changepassword": {
                    "params": {
                        "_id": "string",
                        "password": "string"
                    },
                    "access": "superadmin"
                },
                "remove": {
                    "params": {
                        "_id": "string"
                    },
                    "access": "superadmin"
                },
                "register": {
                    "params": {
                        "_id": "string",
                        "_date": "date",
                        "name": "string",
                        "password": "string",
                        "state": "boolean",
                        "role": "string"
                    }
                }
            }
        },
        "agg": {
            "description": "Aggregators",
            "roles": {
                "read": "superdmin aggregators.admin aggregators.user",
                "write": "superdmin aggregators.admin"
            },
            "model": {
                "_id": "string",
                "_date": "date",
                "sn": "string",
                "description": "string",
                "license": "array"
            },
            "license": {
                "_id": "string",
                "_date": "date",
                "ports": "number",
                "mpls": "boolean",
                "mirror": "boolean",
                "filename": "string"
            },
            "methods": {
                "get": {
                    "access": {
                        "$ref": "#agg/roles/read"
                    }
                },
                "subscribe": {
                    "access": {
                        "$ref": "#agg/roles/read"
                    }
                },
                "add": {
                    "params": {
                        "$ref": "#agg/model"
                    },
                    "access": {
                        "$ref": "#agg/roles/write"
                    }
                },
                "update": {
                    "params": {
                        "$ref": "#agg/model"
                    },
                    "access": {
                        "$ref": "#agg/roles/write"
                    }
                },
                "remove": {
                    "params": {
                        "_id": "string"
                    },
                    "access": {
                        "$ref": "#agg/roles/write"
                    }
                },
                "licenseadd": {
                    "params": {
                        "$ref": "#agg/license"
                    },
                    "access": {
                        "$ref": "#agg/roles/write"
                    }
                },
                "licenseremove": {
                    "params": {
                        "index": "string"
                    },
                    "access": {
                        "$ref": "#agg/roles/write"
                    }
                }
            }
        }
    }
}